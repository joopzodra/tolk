(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("fXoL"),s=n("jhN1"),o=n("3Pt+"),a=n("1kSV"),r=n("xgIS"),c=n("l5mm"),l=n("VRyK"),b=n("yuhW"),h=n("JX91"),u=n("XNiG"),g=n("2Vo4"),d=n("Texg");class p extends d.a{constructor(e){super(e),this.version(1).stores({glossery:"id++, lang1, lang2, sheetName"}),this.glossery=this.table("glossery")}}let m=(()=>{class e{constructor(){this.dialog=new u.a,this.dialogStream=this.dialog.asObservable()}emitMessage(e,t,n){this.dialog.next({type:e,body:t,time:n})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f={NO_GAPI_LOADED:"Het lukt niet om verbinding te maken met Google.",TRY_LOAD_GAPI:"Probeer opnieuw",NOT_SIGNED_IN:"Niet bij Google ingelogd",SIGNED_IN_AS:"Bij Google ingelogd als:",LOGIN_CANCELLED:"Inloggen is afgebroken",LOGOUT_CANCELLED:"Uitloggen is afgebroken",ENABLE_SHEET_LOADING:"Sheet laden",LOAD_SHEET:"Laden",INCORRECT_SPREADSHEET_URL:"Geen spreadsheet gevonden bij deze url.",NO_SPREADSHEET_ID:"De url bevat geen geldige spreadsheet id.",SPREADSHEET_REQUIRES_AUTORIZATION:"Deze spreadsheet is niet publiek. Je moet inloggen bij Google met het account voor deze sheet.",SHEETS_LOADING_ERROR:"Het lukt niet om Google Sheets binnen te halen.",SHEETS_LOADING_SUCCESS:"Je Google sheet is opgeslagen in Tolk",UPLOAD_SUCCESS_AT:"Ge\xfcpload op",UPLOAD_ERROR_AT:"Mislukte upload poging op",NO_SPREADSHEET_TITLE:"Geen sheet",COLUMN:"kolom",SEARCH_LANGUAGE:"Zoek in",SHEETS:"Sheets",ALL_SHEETS:"Alle sheets",GOOGLE_SHEETS_URL:"Geef spreadsheet url op ...",SIGN_IN:"Inloggen",SIGN_OUT:"Uitloggen",DATABASE_EMPTY:"De app heeft geen data. Je moet een spreadsheet laden.",DATABASE_CLOSED_ERROR:"De app heeft geen data. Je moet een spreadsheet laden.",DATABASE_INVALID_STATE_ERROR:"Je hebt browser gegevens gewist. Ververs eerst de pagina of sluit de app en open hem opnieuw. Daarna kun je weer sheets uploaden.",SEARCH_FOR:"Zoek ...",NO_SEARCHRESULTS:"Geen resultaat gevonden bij je zoekterm.",SEARCH_BY_BEGINNING_OF_WORD:"Woord begint met zoekterm",SERVICE_WORKER_UPDATE_AVAILABLE:"Er is een update van Tolk beschikbaar. Sluit de app en open hem opnieuw.",SERVICE_WORKER_UPDATE_ACTIVATED:"Tolk is ge-update."};let S=(()=>{class e{constructor(e){this.dialogService=e,this.sheetMeta=new u.a,this.selection=new u.a,this.searching=new g.a(!1),this.sheetMetaStream=this.sheetMeta.asObservable(),this.selectionStream=this.selection.asObservable(),this.searchingStream=this.searching.asObservable(),this.db=new p("TolkDatabase"),window.onunhandledrejection=e=>{switch(e.preventDefault(),e.reason.name){case"DatabaseClosedError":this.dialogService.emitMessage("warning",f.DATABASE_CLOSED_ERROR,1e4);break;case"InvalidStateError":this.dialogService.emitMessage("warning",f.DATABASE_INVALID_STATE_ERROR,1e4);break;default:this.dialogService.emitMessage("danger",e.reason.message,1e4)}}}clearTableAndAddNewSheet(e,t,n,i){const s=this.prepareValues(e);return this.db.transaction("rw",this.db.glossery,()=>{this.db.glossery.clear(),this.db.glossery.bulkAdd(s)}).then(e=>(localStorage.setItem("spreadsheetTitle",t),localStorage.setItem("columnNames",JSON.stringify(n)),localStorage.setItem("sheetNames",JSON.stringify(i)),this.sheetMeta.next({spreadsheetTitle:t,columnNames:n,sheetNames:i}),e))}prepareValues(e){return[].concat(...e.map(e=>e.values.map(t=>((e,t)=>({lang1:t[0],lang2:t[1],sheetName:e.sheetName}))(e,t))))}select(e,t,n,i){if(this.searching.next(!0),this.db.glossery.count().then(e=>0!==e||this.dialogService.emitMessage("warning",f.DATABASE_EMPTY,8e3)),""===e)return this.selection.next({searchTerm:e,items:[]}),void this.searching.next(!1);const s=(o=(n=>{if(i){const i=e.toLowerCase();return n.filter(e=>e[t]&&e[t].normalize("NFD").replace(/[\u0300-\u036f]/g,"").startsWith(i))}{const i=e.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=new RegExp(i,"i");return n.filter(e=>e[t]&&s.test(e[t].normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()))}})(this.db.glossery),n?o.and(e=>e.sheetName===n):o);var o;const a=s.count(),r=s.toArray().then(t=>{const n=t.map(e=>({lang1:e.lang1,lang2:e.lang2}));return{searchTerm:e,items:n,byBegin:i}});Promise.all([a,r]).then(([e,t])=>{t.count=e,this.selection.next(t),this.searching.next(!1)}).catch(()=>this.searching.next(!1))}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(m))},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E=(()=>{class e{constructor(e){this.dialogService=e,this.username=new g.a(void 0),this.usernameStream=this.username.asObservable()}onGapiAuth2Init(){gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus.bind(this));const e=gapi.auth2.getAuthInstance().isSignedIn.get();this.updateSigninStatus(e)}updateSigninStatus(e){const t=e?gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getName():void 0;this.username.next(t)}signIn(){gapi.auth2.getAuthInstance().signIn().catch(e=>this.dialogService.emitMessage("warning",f.LOGIN_CANCELLED,5e3))}signOut(){gapi.auth2.getAuthInstance().signOut().catch(e=>this.dialogService.emitMessage("warning",f.LOGOUT_CANCELLED,5e3))}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(m))},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{class e{constructor(e){this.authService=e,this.discoveryDocs=["https://sheets.googleapis.com/$discovery/rest?version=v4"],this.clientId="219713688448-mfafknmuknff8ai6ua1eg57ncigbqrt4.apps.googleusercontent.com",this.scopes="https://www.googleapis.com/auth/spreadsheets",this.gapiUrl="https://apis.google.com/js/api.js",this.gapiStatus=new g.a(""),this.gapiStatusStream=this.gapiStatus.asObservable(),navigator.onLine?this.loadGapi():this.gapiStatus.next("offline"),window.addEventListener("offline",this.onOffline.bind(this)),window.addEventListener("online",this.onOnline.bind(this))}reloadGapi(){this.removeGapiScript(),this.loadGapi()}loadGapi(){this.gapiStatus.next("loading");const e=this.gapiUrl;let t=document.head,n=document.createElement("script");n.src=e,n.id="gapi-script",n.onload=this.loadGapiClientAndAuth2.bind(this),n.onerror=this.gapiLoadError.bind(this),t.appendChild(n)}loadGapiClientAndAuth2(){gapi.load("client:auth2",this.initGapiClient.bind(this))}initGapiClient(){gapi.client.init({apiKey:"AIzaSyDY3qsYVEpvv1M7ha55H6KDVnxaMzBn4jo",discoveryDocs:this.discoveryDocs,clientId:this.clientId,scope:this.scopes}).then(()=>{this.gapiStatus.next("loaded"),this.authService.onGapiAuth2Init()}).catch(()=>this.gapiLoadError())}gapiLoadError(){this.gapiStatus.next("error"),this.removeGapiScript()}removeGapiScript(){const e=document.querySelector("#gapi-script");e&&e.parentElement.removeChild(e)}onOffline(){this.gapiStatus.next("offline")}onOnline(){const e=document.querySelector("#gapi-script");e?e.getAttribute("gapi_processed")?this.gapiStatus.next("loaded"):(e.parentElement.removeChild(e),this.loadGapi()):this.loadGapi()}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(E))},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=n("Jho9");let k=(()=>{class e{constructor(e,t){this.updates=e,this.dialogService=t,e.available.subscribe(e=>{this.dialogService.emitMessage("success",f.SERVICE_WORKER_UPDATE_AVAILABLE,1e4)}),e.activated.subscribe(e=>{this.dialogService.emitMessage("success",f.SERVICE_WORKER_UPDATE_ACTIVATED,4e3)})}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(D.b),i.Lb(m))},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),I=(()=>{class e{constructor(e,t){this.databaseService=e,this.changeDetector=t,this.spreadSheetTitle="",this.showInfoModalEvent=new i.k}ngOnInit(){const e=localStorage.getItem("spreadsheetTitle");this.spreadSheetTitle=e||f.NO_SPREADSHEET_TITLE,this.databaseService.sheetMetaStream.subscribe(e=>{this.spreadSheetTitle=e.spreadsheetTitle,this.changeDetector.detectChanges()})}showInfoModal(){this.showInfoModalEvent.emit(Math.random())}ngOnDestroy(){this.sheetMetaSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(S),i.zb(i.f))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-header"]],outputs:{showInfoModalEvent:"showInfoModalEvent"},decls:7,vars:1,consts:[[1,"container","bg-secondary","text-white","py-1",2,"font-size","16px","background-color","#AC636C !important"],["id","show-info-modal",1,"btn","btn-link","btn-sm","float-right",3,"click"],["src","assets/img/info-icon.svg","alt","info-icon"],[1,"container","font-weight-light","text-muted","my-4",2,"font-size","20px"]],template:function(e,t){1&e&&(i.Eb(0,"div"),i.Eb(1,"h1",0),i.kc(2,"tolk "),i.Eb(3,"button",1),i.Ob("click",function(){return t.showInfoModal()}),i.Ab(4,"img",2),i.Db(),i.Db(),i.Eb(5,"h2",3),i.kc(6),i.Db(),i.Db()),2&e&&(i.nb(6),i.mc(" ",t.spreadSheetTitle," "))},styles:["#show-info-modal[_ngcontent-%COMP%] {\n      margin-top: -8px;\n    }"],changeDetection:0}),e})(),w=(()=>{class e{constructor(e){this.activeModal=e}}return e.\u0275fac=function(t){return new(t||e)(i.zb(a.a))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-info-modal-content"]],decls:38,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["href","https://docs.google.com/spreadsheets"],["href","privacy/index.html"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(i.Eb(0,"div",0),i.Eb(1,"h4",1),i.kc(2,"Tolk"),i.Db(),i.Eb(3,"button",2),i.Ob("click",function(){return t.activeModal.close()}),i.Eb(4,"span",3),i.kc(5,"\xd7"),i.Db(),i.Db(),i.Db(),i.Eb(6,"div",4),i.Eb(7,"small"),i.Eb(8,"p"),i.kc(9,"Hier kan info over Tolk komen. Zoals:"),i.Db(),i.Eb(10,"p"),i.kc(11,"In Tolk kun je een spreadsheet uit Google sheets laden. Wil je een Excel spreadsheet gebruiken? Upload eerst je moet uploaden naar Google Sheets. Ga naar "),i.Eb(12,"a",5),i.kc(13,"Google Sheets"),i.Db(),i.kc(14,", maak een nieuwe lege spreadsheet, en klik daarin op File > Import > Upload."),i.Db(),i.Eb(15,"p"),i.kc(16,"(NB. Wil je een Microsoft Excel of LibreOffice Calc document uit Google Drive gebruiken? Als je dat vanuit Drive opent, is het niet automatisch een Google Sheet. Pas als je er een Sheet van hebt gemaakt, is de url bruikbaar.)"),i.Db(),i.Eb(17,"p"),i.kc(18,"Tolk verwacht dat in je spreadsheet de vertalingen beginnen in de tweede rij. De eerste rij wordt dus niet gebruikt, behalve die van de eerste sheet! De eerste rij van eerste sheet benut voor taalkeuze knoppen."),i.Db(),i.Eb(19,"p"),i.kc(20,"Publieke sheets vs priv\xe9 sheets. Inloggen bij Google, etc..."),i.Db(),i.Eb(21,"p"),i.kc(22,"Bij een update van Tolk krijg je een melding. Als je Tolk in de browser gebruikt, ververs de pagina; dan is de app ge-update. Gebruik je Tolk als standalone app, sluit dan de app af en open hem opnieuw; dan is hij ge-update."),i.Db(),i.Eb(23,"p"),i.kc(24,"Als je inlogt met je Google account heeft Tolk toegang tot je Google gebruikersgegevens. Het enige wat Tolk daarmee doet is het weergeven van je naam onderaan het scherm. Je woordenlijst en data om de app goed te laten functioneren worden opgeslagen op je computer of smartphone. Verder doet Tolk niets met je gegevens en verstuurt helemaal niets vanaf je computer of smartphone naar een server. Om het inloggen bij Google mogelijk te maken moet Tolk een "),i.Eb(25,"a",6),i.kc(26,"privacyverklaring"),i.Db(),i.kc(27," hebben. Daarin wordt herhaald wat hierboven vermeld staat."),i.Db(),i.Eb(28,"strong"),i.Eb(29,"p"),i.kc(30,"Problemen?"),i.Db(),i.Db(),i.Eb(31,"p"),i.kc(32,"Lukt het niet om in te loggen bij Google?. Meestal ligt dat aan privacy beschermende browser extensies, zoals Privacy Badger of Ghostery. Kijk of het wel lukt als je die uitschakelt."),i.Db(),i.Eb(33,"p"),i.kc(34,"Is offline werken met de app is niet mogelijk? Als je in de browser hebt ingesteld dat cookies en websitegegevens verwijderd worden na het afsluiten van de browser, dan is offline werken niet mogelijk. Je zult dan je spreadsheet steeds opnieuw moeten laden in Tolk. Ook na het wissen van browsegegevens moet je je spreadsheet opnieuw laden."),i.Db(),i.Db(),i.Db(),i.Eb(35,"div",7),i.Eb(36,"button",8),i.Ob("click",function(){return t.activeModal.close()}),i.kc(37,"Sluit"),i.Db(),i.Db())},styles:[""]}),e})(),O=(()=>{class e{constructor(e){this.modalService=e}ngOnChanges(e){e.showInfoModal.firstChange||this.modalService.open(w)}}return e.\u0275fac=function(t){return new(t||e)(i.zb(a.k))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-info-modal"]],inputs:{showInfoModal:"showInfoModal"},features:[i.lb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var A=n("Kj3r"),y=n("itXk"),L=n("ofXK");const _=["dropdown"],N=["dropdownMenu"];function T(e,t){if(1&e){const e=i.Fb();i.Eb(0,"button",22),i.Ob("click",function(){i.dc(e);const n=t.$implicit;return i.Qb(3).onSheetFilterClicked(n)}),i.kc(1),i.Db()}if(2&e){const e=t.$implicit;i.nb(1),i.lc(e)}}function C(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",16),i.Eb(1,"div",17,18),i.Eb(3,"button",19),i.Ob("click",function(){return i.dc(e),i.Qb(2).toggleDropdown()}),i.kc(4),i.Db(),i.Eb(5,"div",20,21),i.Eb(7,"button",22),i.Ob("click",function(){i.dc(e);const t=i.Qb(2);return t.toggleDropdown(),t.onSheetFilterClicked("")}),i.kc(8),i.Db(),i.ic(9,T,2,1,"button",23),i.Db(),i.Db(),i.Db()}if(2&e){const e=i.Qb(2);i.nb(4),i.lc(e.sheetFilterButtonText||e.nl.ALL_SHEETS),i.nb(4),i.lc(e.nl.ALL_SHEETS),i.nb(1),i.Vb("ngForOf",e.sheetNames)}}function M(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",1),i.Eb(1,"div",2),i.Eb(2,"form",3),i.Eb(3,"div",4),i.Eb(4,"label",5),i.Ab(5,"input",6),i.kc(6),i.Db(),i.Eb(7,"label",5),i.Ab(8,"input",7),i.kc(9),i.Db(),i.Db(),i.Db(),i.ic(10,C,10,3,"div",8),i.Db(),i.Eb(11,"div",9),i.Ab(12,"input",10),i.Eb(13,"label",11),i.kc(14),i.Db(),i.Db(),i.Eb(15,"div",12),i.Ab(16,"input",13),i.Eb(17,"div",14),i.Eb(18,"span",15),i.Ob("click",function(){return i.dc(e),i.Qb().clearInput()}),i.kc(19,"\xd7"),i.Db(),i.Db(),i.Db(),i.Db()}if(2&e){const e=i.Qb();i.nb(2),i.Vb("formGroup",e.languageSelector),i.nb(4),i.mc("",e.columnNames[0]," "),i.nb(3),i.mc("",e.columnNames[1]," "),i.nb(1),i.Vb("ngIf",e.sheetNames.length>1),i.nb(2),i.Vb("formControl",e.searchByBegin),i.nb(2),i.lc(e.nl.SEARCH_BY_BEGINNING_OF_WORD),i.nb(2),i.Wb("placeholder",e.nl.SEARCH_FOR),i.Vb("formControl",e.search)}}let x=(()=>{class e{constructor(e,t,n){this.changeDetector=e,this.databaseService=t,this.formBuilder=n,this.search=new o.d(""),this.searchByBegin=new o.d(!0),this.searchLanguageEvent=new i.k,this.columnNames=["",""],this.sheetNames=[],this.nl=f,this.sheetFilterButtonText="",this.initialLanguage="lang1",this.sheetFilterTextStream=new g.a(""),this.dropdownOpen=!1}ngOnInit(){this.columnNames=JSON.parse(localStorage.getItem("columnNames"))||this.columnNames,this.sheetNames=JSON.parse(localStorage.getItem("sheetNames"))||this.sheetNames,this.sheetMetaSubscription=this.databaseService.sheetMetaStream.subscribe(e=>{this.columnNames=e.columnNames,this.sheetNames=e.sheetNames,this.changeDetector.detectChanges()}),this.languageSelector=this.formBuilder.group({lang:this.initialLanguage});const e=this.search.valueChanges.pipe(Object(A.a)(250),Object(h.a)("")),t=this.languageSelector.get("lang").valueChanges.pipe(Object(h.a)(this.initialLanguage)),n=this.searchByBegin.valueChanges.pipe(Object(h.a)(!0));this.searchSubscription=Object(y.a)(e,t,this.sheetFilterTextStream,n).subscribe(([e,t,n,i])=>{this.searchLanguageEvent.emit(t),this.databaseService.select(e,t,n,i)}),document.querySelector("body").addEventListener("click",this.closeDropdown.bind(this))}clearInput(){this.search.reset("")}toggleDropdown(){if(this.dropdownOpen)this.closeDropdown();else{this.dropdown.nativeElement.classList.add("dropdown-fix"),this.dropdownMenu.nativeElement.classList.add("dropdown-menu-fix");const e=this.dropdown.nativeElement.clientHeight;this.dropdownMenu.nativeElement.style.transform=`translate(${Math.round(this.dropdown.nativeElement.clientWidth-this.dropdownMenu.nativeElement.clientWidth)}px, ${Math.round(e)}px)`,this.dropdownOpen=!0}}closeDropdown(){this.dropdown&&(this.dropdown.nativeElement.classList.remove("dropdown-fix"),this.dropdownMenu.nativeElement.classList.remove("dropdown-menu-fix"),this.dropdownOpen=!1)}onSheetFilterClicked(e){this.sheetFilterButtonText=e,this.sheetFilterTextStream.next(e)}ngOnDestroy(){this.sheetMetaSubscription.unsubscribe(),this.searchSubscription.unsubscribe(),document.querySelector("body").removeEventListener("click",this.closeDropdown.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(i.zb(i.f),i.zb(S),i.zb(o.c))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-search"]],viewQuery:function(e,t){if(1&e&&(i.oc(_,!0),i.oc(N,!0)),2&e){let e;i.bc(e=i.Pb())&&(t.dropdown=e.first),i.bc(e=i.Pb())&&(t.dropdownMenu=e.first)}},outputs:{searchLanguageEvent:"searchLanguageEvent"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-8","mb-1","pr-2",3,"formGroup"],["id","language-selector","ngbRadioGroup","","formControlName","lang",1,"btn-group","btn-group-toggle","w-100"],["ngbButtonLabel","",1,"btn-info","text-truncate"],["ngbButton","","type","radio","value","lang1"],["ngbButton","","type","radio","value","lang2"],["class","col-4",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","search-by-begin",1,"custom-control-input",3,"formControl"],["for","search-by-begin",1,"custom-control-label"],[1,"input-group","my-2"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"input-group-append"],["id","clear-search-input",1,"input-group-text",3,"click"],[1,"col-4"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","w-100"],["dropdown",""],["ngbDropdownToggle","",1,"btn","btn-outline-info","text-truncate","w-100",3,"click"],["ngbDropdownMenu","",1,"text-truncate"],["dropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&i.ic(0,M,20,8,"div",0),2&e&&i.Vb("ngIf",t.columnNames[0]&&t.columnNames[1])},directives:[L.e,o.p,o.l,o.g,a.o,o.k,o.f,a.d,a.n,o.a,o.e,o.b,a.f,a.j,a.h,a.g,L.d],styles:[".dropdown-fix[_ngcontent-%COMP%] {\n      position: relative;\n    }\n    .dropdown-menu-fix[_ngcontent-%COMP%] {\n      display: block;\n      top: 0px;\n      left: 0px;\n      will-change: transform;\n      position: absolute;      \n    }\n    #clear-search-input[_ngcontent-%COMP%], #language-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }"],changeDetection:0}),e})();function R(e,t){if(1&e&&(i.Eb(0,"th",8),i.kc(1),i.Db()),2&e){const e=i.Qb(3);i.nb(1),i.lc(e.columnNames[0])}}function j(e,t){if(1&e&&(i.Eb(0,"th",8),i.kc(1),i.Db()),2&e){const e=i.Qb(3);i.nb(1),i.lc(e.columnNames[0])}}function G(e,t){if(1&e&&(i.Eb(0,"tr"),i.ic(1,R,2,1,"th",7),i.Eb(2,"th",8),i.kc(3),i.Db(),i.ic(4,j,2,1,"th",7),i.Db()),2&e){const e=i.Qb(2);i.nb(1),i.Vb("ngIf","lang1"===e.searchLanguage),i.nb(2),i.lc(e.columnNames[1]),i.nb(1),i.Vb("ngIf","lang2"===e.searchLanguage)}}function V(e,t){if(1&e&&(i.Eb(0,"td"),i.kc(1),i.Db()),2&e){const e=i.Qb().$implicit;i.nb(1),i.lc(e.lang1)}}function U(e,t){if(1&e&&(i.Eb(0,"td"),i.kc(1),i.Db()),2&e){const e=i.Qb().$implicit;i.nb(1),i.lc(e.lang1)}}function z(e,t){if(1&e&&(i.Eb(0,"tr"),i.ic(1,V,2,1,"td",4),i.Eb(2,"td"),i.kc(3),i.Db(),i.ic(4,U,2,1,"td",4),i.Db()),2&e){const e=t.$implicit,n=i.Qb(2);i.nb(1),i.Vb("ngIf","lang1"===n.searchLanguage),i.nb(2),i.lc(e.lang2),i.nb(1),i.Vb("ngIf","lang2"===n.searchLanguage)}}function P(e,t){if(1&e&&(i.Eb(0,"td",10),i.Eb(1,"small"),i.kc(2),i.Eb(3,"strong"),i.kc(4),i.Db(),i.kc(5,". Verfijn je zoekterm"),i.Db(),i.Db()),2&e){const e=i.Qb(3);i.nb(2),i.mc("Er zijn ",e.selection.count," termen die beginnen met "),i.nb(2),i.lc(e.selection.searchTerm)}}function F(e,t){if(1&e&&(i.Eb(0,"td",10),i.Eb(1,"small"),i.kc(2),i.Eb(3,"strong"),i.kc(4),i.Db(),i.kc(5," erin. Verfijn je zoekterm"),i.Db(),i.Db()),2&e){const e=i.Qb(3);i.nb(2),i.mc("Er zijn ",e.selection.count," termen met "),i.nb(2),i.lc(e.selection.searchTerm)}}function H(e,t){if(1&e&&(i.Eb(0,"tr"),i.ic(1,P,6,2,"td",9),i.ic(2,F,6,2,"td",9),i.Db()),2&e){const e=i.Qb(2);i.nb(1),i.Vb("ngIf",e.selection.byBegin),i.nb(1),i.Vb("ngIf",!e.selection.byBegin)}}function Q(e,t){if(1&e&&(i.Eb(0,"tr",11),i.Eb(1,"td",12),i.kc(2),i.Db(),i.Db()),2&e){const e=i.Qb(2);i.nb(2),i.lc(e.nl.NO_SEARCHRESULTS)}}function B(e,t){if(1&e&&(i.Eb(0,"table",3),i.Eb(1,"thead"),i.ic(2,G,5,3,"tr",4),i.Db(),i.Eb(3,"tbody"),i.ic(4,z,5,3,"tr",5),i.ic(5,H,3,2,"tr",4),i.Db(),i.ic(6,Q,3,1,"tr",6),i.Db()),2&e){const e=i.Qb();i.nb(2),i.Vb("ngIf",e.selection.items.length),i.nb(2),i.Vb("ngForOf",e.selection.items),i.nb(1),i.Vb("ngIf",e.selection.items.length<e.selection.count),i.nb(1),i.Vb("ngIf",!e.selection.items.length&&""!==e.selection.searchTerm)}}function J(e,t){1&e&&(i.Eb(0,"div",13),i.Ab(1,"div",14),i.Db())}let $=(()=>{class e{constructor(e,t){this.changeDetector=e,this.databaseService=t,this.columnNames=["",""],this.nl=f,this.selection={searchTerm:"",items:[],count:0}}ngOnInit(){const e=JSON.parse(localStorage.getItem("columnNames"));e&&(this.columnNames=e),this.sheetMetaSubscription=this.databaseService.sheetMetaStream.subscribe(e=>{this.columnNames=e.columnNames,this.changeDetector.detectChanges()}),this.selectionSubscription=this.databaseService.selectionStream.subscribe(e=>{this.selection=e,this.changeDetector.detectChanges()}),this.searchingSubscription=this.databaseService.searchingStream.subscribe(e=>{this.searching=e,this.changeDetector.detectChanges()})}ngOnDestroy(){this.sheetMetaSubscription.unsubscribe(),this.selectionSubscription.unsubscribe(),this.searchingSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(i.f),i.zb(S))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-display"]],inputs:{searchLanguage:"searchLanguage"},decls:3,vars:2,consts:[[1,"container","mt-3"],["class","table table-sm w-100 bg-white","style","table-layout: fixed;",4,"ngIf"],["id","display-spinner-container","class","bg-white",4,"ngIf"],[1,"table","table-sm","w-100","bg-white",2,"table-layout","fixed"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-block  w-100",4,"ngIf"],["class","text-truncate w-50",4,"ngIf"],[1,"text-truncate","w-50"],["colspan","2",4,"ngIf"],["colspan","2"],[1,"d-block","w-100"],[1,"d-block"],["id","display-spinner-container",1,"bg-white"],["id","display-spinner",1,"spinner"]],template:function(e,t){1&e&&(i.Eb(0,"div",0),i.ic(1,B,7,4,"table",1),i.ic(2,J,2,0,"div",2),i.Db()),2&e&&(i.nb(1),i.Vb("ngIf",!t.searching),i.nb(1),i.Vb("ngIf",t.searching))},directives:[L.e,L.d],styles:["#display-spinner[_ngcontent-%COMP%] {\n      height: 25px;\n      width: 25px;\n      border-width: 4px;\n      margin: 3px auto;\n    }\n    #display-spinner-container[_ngcontent-%COMP%] {\n      height: 33px;\n      padding: 1px;\n    }"],changeDetection:0}),e})();var W=n("LRne"),K=n("pLZG"),Y=n("vkgz"),Z=n("bOdf"),q=n("3E0/");function X(e,t){if(1&e){const e=i.Fb();i.Eb(0,"ngb-alert",2),i.Ob("close",function(){i.dc(e);const n=t.$implicit;return i.Qb().clearMessage(n)}),i.kc(1),i.Db()}if(2&e){const e=t.$implicit,n=i.Qb();i.Wb("type",n.messages[e].type),i.nb(1),i.mc(" ",n.messages[e].body," ")}}let ee=(()=>{class e{constructor(e,t){this.errorService=e,this.changeDetector=t,this.keys=Object.keys,this.messages={},this.nl=f}ngOnInit(){let e=0;this.dialogSubscription=this.errorService.dialogStream.pipe(Object(K.a)(e=>this.isNewMessage(e)),Object(Y.a)(t=>{this.messages[++e]=t,this.changeDetector.detectChanges()}),Object(Z.a)(t=>Object(W.a)(e).pipe(Object(q.a)(t.time)))).subscribe(e=>{delete this.messages[e],this.changeDetector.detectChanges()})}clearMessage(e){delete this.messages[e],this.changeDetector.detectChanges()}isNewMessage(e){return!Object.values(this.messages).some(t=>t.body===e.body)}ngOnDestroy(){this.dialogSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(m),i.zb(i.f))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-dialog"]],decls:2,vars:1,consts:[["id","dialog-container",1,"container"],[3,"type","close",4,"ngFor","ngForOf"],[3,"type","close"]],template:function(e,t){1&e&&(i.Eb(0,"div",0),i.ic(1,X,2,2,"ngb-alert",1),i.Db()),2&e&&(i.nb(1),i.Vb("ngForOf",t.keys(t.messages).reverse()))},directives:[L.d,a.b],encapsulation:2,changeDetection:0}),e})(),te=(()=>{class e{constructor(e,t){this.databaseService=e,this.dialogService=t,this.spreadsheetTitle="",this.columnNames=["",""],this.sheetNames=[]}loadSheet(e){const t=this.extractId(e);return t?(this.saveUrl(e),gapi.client.sheets.spreadsheets.get({spreadsheetId:t}).then(e=>(this.spreadsheetTitle=e.result.properties.title,e.result.sheets.map(e=>e.properties.title))).then(e=>(this.sheetNames=e,e.map(e=>e+"!A1:B"))).then(e=>gapi.client.sheets.spreadsheets.values.batchGet({spreadsheetId:t,ranges:e})).then(e=>{const t=e.result.valueRanges.filter(e=>e.values);t.length&&(this.columnNames=t[0].values.slice(0,1)[0]),this.columnNames=this.setColumnNames(this.columnNames),t.forEach(e=>e.values.shift());const n=t.map(e=>({sheetName:e.range.split("!")[0],values:e.values}));return this.databaseService.clearTableAndAddNewSheet(n,this.spreadsheetTitle,this.columnNames,this.sheetNames)})):Promise.reject({status:"noId"})}gapiExists(){return!!(gapi&&gapi.client&&gapi.client.sheets)||(this.dialogService.emitMessage("danger",f.NO_GAPI_LOADED,8e3),!1)}extractId(e){if(0===e.trim().length)return;const t=e.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/i);return t&&t[1]?t[1]:void 0}setColumnNames(e){if(0===e.length)return[f.COLUMN+" A",f.COLUMN+" B"];let t;return t=1===e.length?[e[0].trim(),""]:e.map(e=>e.trim()),t=t.map((e,t)=>e||f.COLUMN+" "+["A","B"][t]),t}saveUrl(e){const t=JSON.parse(localStorage.getItem("spreadsheetUrls"))||[];t.push({url:e,uploadResult:""}),t.length>3&&t.shift(),localStorage.setItem("spreadsheetUrls",JSON.stringify(t))}setUrlUploadResult(e,t){const n=JSON.parse(localStorage.getItem("spreadsheetUrls"));if(n){const i=new Date,s="success"===t?f.UPLOAD_SUCCESS_AT:f.UPLOAD_ERROR_AT;n.reverse(),n.find(t=>t.url=e).uploadResult=`${s} ${i.toLocaleDateString()} ${i.toLocaleTimeString()}`,n.reverse(),localStorage.setItem("spreadsheetUrls",JSON.stringify(n))}}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(S),i.Lb(m))},e.\u0275prov=i.vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ne(e,t){if(1&e){const e=i.Fb();i.Eb(0,"button",13),i.Ob("mousedown",function(){i.dc(e);const n=t.$implicit;return i.Qb(5).selectUrl(n.url)}),i.kc(1),i.Ab(2,"br"),i.Eb(3,"span"),i.Eb(4,"small"),i.Eb(5,"em"),i.kc(6),i.Db(),i.Db(),i.Db(),i.Db()}if(2&e){const e=t.$implicit;i.nb(1),i.lc(e.url),i.nb(5),i.lc(e.uploadResult)}}function ie(e,t){if(1&e&&(i.Eb(0,"ul",11),i.ic(1,ne,7,2,"button",12),i.Db()),2&e){const e=i.Qb(4);i.nb(1),i.Vb("ngForOf",e.urlsList)}}function se(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div"),i.Eb(1,"div"),i.ic(2,ie,2,1,"ul",5),i.Db(),i.Eb(3,"div",6),i.Eb(4,"input",7),i.Ob("focus",function(){return i.dc(e),i.Qb(3).onInputFocus()})("focusout",function(){return i.dc(e),i.Qb(3).onInputFocusOut()}),i.Db(),i.Eb(5,"div",8),i.Eb(6,"button",9),i.Ob("click",function(){return i.dc(e),i.Qb(3).loadSheet()}),i.kc(7),i.Db(),i.Eb(8,"button",10),i.Ob("click",function(){return i.dc(e),i.Qb(3).disableSheetLoading()}),i.kc(9,"\xd7"),i.Db(),i.Db(),i.Db(),i.Db()}if(2&e){const e=i.Qb(3);i.nb(2),i.Vb("ngIf",e.urlsList.length),i.nb(2),i.Wb("placeholder",e.nl.GOOGLE_SHEETS_URL),i.Vb("formControl",e.urlInput),i.nb(3),i.lc(e.nl.LOAD_SHEET)}}function oe(e,t){1&e&&i.Ab(0,"div",14)}function ae(e,t){if(1&e&&(i.Eb(0,"div"),i.ic(1,se,10,4,"div",2),i.ic(2,oe,1,0,"div",4),i.Db()),2&e){const e=i.Qb(2);i.nb(1),i.Vb("ngIf",!e.sheetLoading),i.nb(1),i.Vb("ngIf",e.sheetLoading)}}function re(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",15),i.Eb(1,"button",16),i.Ob("click",function(){return i.dc(e),i.Qb(2).enableSheetLoading()}),i.kc(2),i.Db(),i.Db()}if(2&e){const e=i.Qb(2);i.nb(2),i.lc(e.nl.ENABLE_SHEET_LOADING)}}function ce(e,t){if(1&e&&(i.Eb(0,"div",1),i.ic(1,ae,3,2,"div",2),i.ic(2,re,3,1,"div",3),i.Db()),2&e){const e=i.Qb();i.nb(1),i.Vb("ngIf",e.sheetLoadingEnabled),i.nb(1),i.Vb("ngIf",!e.sheetLoadingEnabled)}}let le=(()=>{class e{constructor(e,t,n,i){this.changeDetector=e,this.sheetService=t,this.dialogService=n,this.gapiService=i,this.urlInput=new o.d(""),this.gapiStatus="",this.sheetLoading=!1,this.nl=f,this.urlsList=[],this.sheetLoadingEnabled=!1}ngOnInit(){this.gapiStatusSubscription=this.gapiService.gapiStatusStream.subscribe(e=>{this.gapiStatus=e,this.changeDetector.detectChanges()})}loadSheet(){""!==this.urlInput.value&&(this.sheetLoading=!0,this.changeDetector.detectChanges(),this.sheetService.loadSheet(this.urlInput.value).then(()=>{this.sheetLoading=!1,this.sheetLoadingEnabled=!1,this.changeDetector.detectChanges(),this.dialogService.emitMessage("success",f.SHEETS_LOADING_SUCCESS,4e3),this.sheetService.setUrlUploadResult(this.urlInput.value,"success"),this.urlInput.setValue("")}).catch(e=>{if(this.sheetLoading=!1,this.changeDetector.detectChanges(),"InvalidStateError"!==e.name&&"DatabaseClosedError"!==e.name){switch(e.status){case 404:this.dialogService.emitMessage("danger",f.INCORRECT_SPREADSHEET_URL,8e3);break;case 403:this.dialogService.emitMessage("danger",f.SPREADSHEET_REQUIRES_AUTORIZATION,8e3);break;case"noId":this.dialogService.emitMessage("danger",f.NO_SPREADSHEET_ID,8e3);break;default:this.dialogService.emitMessage("danger",f.SHEETS_LOADING_ERROR,8e3)}this.sheetService.setUrlUploadResult(this.urlInput.value,"error")}else this.dialogService.emitMessage("danger",f.DATABASE_INVALID_STATE_ERROR,1e4)}))}onInputFocus(){this.urlsList=JSON.parse(localStorage.getItem("spreadsheetUrls"))||[]}onInputFocusOut(){this.urlsList=[]}selectUrl(e){this.urlsList=[],this.urlInput.setValue(e)}enableSheetLoading(){this.sheetLoadingEnabled=!0}disableSheetLoading(){this.sheetLoadingEnabled=!1,this.urlInput.setValue("")}ngOnDestroy(){this.gapiStatusSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(i.f),i.zb(te),i.zb(m),i.zb(v))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-sheet"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],["id","enable-sheet-loading-button-container","class","container mb-3",4,"ngIf"],["class","spinner",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"input-group","mb-3"],["type","text",1,"form-control",3,"placeholder","formControl","focus","focusout"],[1,"input-group-append"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"list-group"],["type","button","class","list-group-item list-group-item-action url-list-item",3,"mousedown",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action","url-list-item",3,"mousedown"],[1,"spinner"],["id","enable-sheet-loading-button-container",1,"container","mb-3"],["type","button",1,"btn","btn-outline-info","btn-sm",3,"click"]],template:function(e,t){1&e&&i.ic(0,ce,3,2,"div",0),2&e&&i.Vb("ngIf","loaded"===t.gapiStatus)},directives:[L.e,o.b,o.k,o.e,L.d],styles:[".url-list-item[_ngcontent-%COMP%] {\n        word-break: break-word;\n        font-size: 0.8rem;\n      }\n      #enable-sheet-loading-button-container[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: flex-end;\n      }"],changeDetection:0}),e})();function be(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",5),i.Eb(1,"div"),i.Eb(2,"span",6),i.kc(3),i.Db(),i.Eb(4,"button",7),i.Ob("click",function(){return i.dc(e),i.Qb(2).reloadGapi()}),i.kc(5),i.Db(),i.Db(),i.Db()}if(2&e){const e=i.Qb(2);i.nb(3),i.lc(e.nl.NO_GAPI_LOADED),i.nb(2),i.lc(e.nl.TRY_LOAD_GAPI)}}function he(e,t){if(1&e&&(i.Eb(0,"div"),i.ic(1,be,6,2,"div",4),i.Db()),2&e){const e=i.Qb();i.nb(1),i.Vb("ngIf","error"===e.gapiStatus)}}function ue(e,t){1&e&&i.Ab(0,"div",8)}function ge(e,t){1&e&&(i.Eb(0,"h6",9),i.Eb(1,"span",10),i.kc(2,"Offline"),i.Db(),i.Db())}let de=(()=>{class e{constructor(e,t){this.changeDetector=e,this.gapiService=t,this.gapiStatus="",this.nl=f}ngOnInit(){let e;this.gapiStatusSubscription=this.gapiService.gapiStatusStream.subscribe(t=>{clearTimeout(e),this.gapiStatus=t,this.changeDetector.detectChanges(),"loading"===t&&(e=setTimeout(()=>{this.gapiStatus="error",this.changeDetector.detectChanges()},5e3))})}reloadGapi(){this.gapiService.reloadGapi()}ngOnDestroy(){this.gapiStatusSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(i.f),i.zb(v))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-gapi"]],decls:4,vars:3,consts:[["id","gapi-container"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","container my-3 text-center",4,"ngIf"],["class","container border-top py-2",4,"ngIf"],[1,"container","border-top","py-2"],[1,"message"],[1,"btn","btn-outline-info",3,"click"],[1,"spinner"],[1,"container","my-3","text-center"],[1,"badge","badge-info"]],template:function(e,t){1&e&&(i.Eb(0,"div",0),i.ic(1,he,2,1,"div",1),i.ic(2,ue,1,0,"div",2),i.ic(3,ge,3,0,"h6",3),i.Db()),2&e&&(i.nb(1),i.Vb("ngIf",t.gapiStatus),i.nb(1),i.Vb("ngIf","loading"===t.gapiStatus),i.nb(1),i.Vb("ngIf","offline"===t.gapiStatus))},directives:[L.e],styles:["span.message[_ngcontent-%COMP%] {\n      margin-right: 8px;\n    }"],changeDetection:0}),e})();function pe(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",4),i.kc(1),i.Eb(2,"button",5),i.Ob("click",function(){return i.dc(e),i.Qb(2).onSignOut()}),i.kc(3),i.Db(),i.Db()}if(2&e){const e=i.Qb(2);i.nb(1),i.nc("",e.nl.SIGNED_IN_AS," ",e.username," "),i.nb(2),i.lc(e.nl.SIGN_OUT)}}function me(e,t){if(1&e){const e=i.Fb();i.Eb(0,"div",4),i.kc(1),i.Eb(2,"button",6),i.Ob("click",function(){return i.dc(e),i.Qb(2).onSignIn()}),i.kc(3),i.Db(),i.Db()}if(2&e){const e=i.Qb(2);i.nb(1),i.mc("",e.nl.NOT_SIGNED_IN," "),i.nb(2),i.lc(e.nl.SIGN_IN)}}function fe(e,t){if(1&e&&(i.Eb(0,"div",1),i.Eb(1,"div",2),i.ic(2,pe,4,3,"div",3),i.ic(3,me,4,2,"div",3),i.Db(),i.Ab(4,"div"),i.Db()),2&e){const e=i.Qb();i.nb(2),i.Vb("ngIf",e.username),i.nb(1),i.Vb("ngIf",!e.username)}}let Se=(()=>{class e{constructor(e,t,n){this.gapiService=e,this.authService=t,this.changeDetector=n,this.gapiStatus="",this.nl=f}ngOnInit(){this.gapiStatusSubscription=this.gapiService.gapiStatusStream.subscribe(e=>{this.gapiStatus=e,this.changeDetector.detectChanges()}),this.userNameSubscription=this.authService.usernameStream.subscribe(e=>{this.username=e,this.changeDetector.detectChanges()})}onSignIn(){this.authService.signIn()}onSignOut(){this.authService.signOut()}ngOnDestroy(){this.gapiStatusSubscription.unsubscribe(),this.userNameSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(v),i.zb(E),i.zb(i.f))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-auth"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container","py-2","border-top"],["class","d-flex justify-content-between align-items-center text-info","style","font-size: 14px;",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","text-info",2,"font-size","14px"],["id","signout-button",1,"btn","btn-outline-info","btn-sm",3,"click"],["id","authorize-button",1,"btn","btn-outline-info","btn-sm",3,"click"]],template:function(e,t){1&e&&i.ic(0,fe,5,2,"div",0),2&e&&i.Vb("ngIf","loaded"===t.gapiStatus)},directives:[L.e],encapsulation:2,changeDetection:0}),e})();const Ee=["topContainer"];function ve(e,t){1&e&&(i.Eb(0,"div"),i.Ab(1,"tolk-sheet"),i.Ab(2,"tolk-gapi"),i.Ab(3,"tolk-auth"),i.Db())}const De=function(e){return{"max-height":e}};let ke=(()=>{class e{constructor(e,t,n,i){this.databaseService=e,this.gapiService=t,this.changeDetector=n,this.swUpdate=i,this.selectionSearchTerm="",this.gapiStatus=""}ngOnInit(){this.selectionStreamSubscription=this.databaseService.selectionStream.subscribe(e=>{this.selectionSearchTerm=e.searchTerm,this.changeDetector.detectChanges()}),this.gapiStatusSubscription=this.gapiService.gapiStatusStream.subscribe(e=>{this.gapiStatus=e,this.changeDetector.detectChanges()})}ngAfterViewInit(){const e=Object(r.a)(window,"orientationchange"),t=Object(r.a)(window,"resize").pipe(Object(b.a)(e=>Object(c.a)(200)),Object(h.a)(null));this.viewportChangeStreamSubscription=Object(l.a)(e,t).subscribe(()=>{this.displayContainerMaxHeight=this.getDisplayContainerMaxHeight(),this.changeDetector.detectChanges()})}getDisplayContainerMaxHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)-this.topContainer.nativeElement.clientHeight-15}onSearchLanguageEvent(e){this.searchLanguage=e}onShowInfoModalEvent(e){this.showInfoModal=e}ngOnDestroy(){this.selectionStreamSubscription.unsubscribe(),this.gapiStatusSubscription.unsubscribe(),this.viewportChangeStreamSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.zb(S),i.zb(v),i.zb(i.f),i.zb(k))},e.\u0275cmp=i.tb({type:e,selectors:[["tolk-root"]],viewQuery:function(e,t){if(1&e&&i.oc(Ee,!0),2&e){let e;i.bc(e=i.Pb())&&(t.topContainer=e.first)}},decls:11,vars:6,consts:[["id","app-container",1,"bg-light"],["id","top-container"],["topContainer",""],[3,"showInfoModalEvent"],[3,"showInfoModal"],[3,"searchLanguageEvent"],["id","display-container",3,"ngStyle"],[3,"searchLanguage"],["id","bottom-container"],[4,"ngIf"]],template:function(e,t){1&e&&(i.Eb(0,"div",0),i.Eb(1,"div",1,2),i.Eb(3,"tolk-header",3),i.Ob("showInfoModalEvent",function(e){return t.onShowInfoModalEvent(e)}),i.Db(),i.Ab(4,"tolk-info-modal",4),i.Eb(5,"tolk-search",5),i.Ob("searchLanguageEvent",function(e){return t.onSearchLanguageEvent(e)}),i.Db(),i.Db(),i.Eb(6,"div",6),i.Ab(7,"tolk-display",7),i.Db(),i.Eb(8,"div",8),i.Ab(9,"tolk-dialog"),i.ic(10,ve,4,0,"div",9),i.Db(),i.Db()),2&e&&(i.nb(4),i.Vb("showInfoModal",t.showInfoModal),i.nb(2),i.Vb("ngStyle",i.Yb(4,De,t.displayContainerMaxHeight+"px")),i.nb(1),i.Vb("searchLanguage",t.searchLanguage),i.nb(3),i.Vb("ngIf",!t.selectionSearchTerm||"offline"===t.gapiStatus))},directives:[I,O,x,L.f,$,ee,L.e,le,de,Se],styles:["#app-container[_ngcontent-%COMP%] {\n        height: 100vh;\n      }\n      #display-container[_ngcontent-%COMP%] {\n        overflow-y: scroll;\n      }\n      #bottom-container[_ngcontent-%COMP%] {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        z-index: 2;\n      }\n      @media only screen and (max-height: 310px) {\n        #bottom-container[_ngcontent-%COMP%] {\n        display: none;\n        }\n      }"],changeDetection:0}),e})(),Ie=(()=>{class e{}return e.\u0275mod=i.xb({type:e,bootstrap:[ke]}),e.\u0275inj=i.wb({factory:function(t){return new(t||e)},providers:[],imports:[[s.a,o.n,a.c,a.i,a.e,a.l,D.a.register("ngsw-worker.js",{enabled:!0}),a.m]]}),e})();Object(i.I)(),s.b().bootstrapModule(Ie).catch(e=>console.error(e))}},[[0,0,5]]]);